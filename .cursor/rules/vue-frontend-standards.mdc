---
description: Vue frontend standards for consuming Django APIs
alwaysApply: true
---

# Vue Frontend Rule

- Use Vue 3 Composition API (`<script setup>`) for new components.
- Keep components focused: UI components should not own API/business rules.
- Centralize HTTP calls in API modules (for example `src/api/projects.ts`).
- Always handle `loading`, `empty`, `error`, and `success` UI states.
- Prefer typed payload contracts (TypeScript or clear JSDoc interfaces).

## State and data flow

- Use props/events for local composition; use a store only for shared global state.
- Avoid mutating props directly; derive local state with computed or refs.
- Normalize API data before rendering to avoid template complexity.
- Keep side effects in lifecycle hooks or composables, not in templates.

## Security and quality

- Never trust client input; backend remains the source of truth.
- Escape and sanitize any HTML rendered with `v-html`.
- Add component tests for user-visible behavior and API error states.

## Example

```vue
<script setup>
import { ref, onMounted } from 'vue'
import { fetchProjects } from '@/api/projects'
const projects = ref([])
const loading = ref(true)
onMounted(async () => { projects.value = await fetchProjects(); loading.value = false })
</script>
```
